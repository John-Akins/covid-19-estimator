{"version":3,"sources":["../../../src/controllers/app.js"],"names":["logsController","responseUtility","covid19ImpactEstimator","appUtilities","defaultRegion","name","avgAge","avgDailyIncomeInUSD","avgDailyIncomePopulation","appController","makeEsimate","req","res","data","body","region","inputValidator","validateInput","success","response","logNewRequest","error","message"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,QAA3B;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,sBAAP,MAAmC,cAAnC;AACA,OAAOC,YAAP,MAAyB,2BAAzB;;AAEA,MAAMC,gBAAgB;AACpBC,QAAM,QADc;AAEpBC,UAAQ,IAFY;AAGpBC,uBAAqB,CAHD;AAIpBC,4BAA0B;AAJN,CAAtB;;AAOA,MAAMC,gBAAgB,EAAtB;;AAEAA,cAAcC,WAAd,GAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxC,QAAMC,OAAOF,IAAIG,IAAjB;AACA,MAAI,CAACH,IAAIG,IAAJ,CAASC,MAAd,EAAsB;AACpBF,SAAKE,MAAL,GAAcX,aAAd;AACD;AACD,QAAMY,iBAAiBb,aAAac,aAAb,CAA2BJ,IAA3B,CAAvB;;AAEA,MAAIG,eAAeE,OAAf,KAA2B,KAA/B,EAAsC;AACpC,UAAMC,WAAWjB,uBAAuBW,IAAvB,CAAjB;AACAb,mBAAeoB,aAAf,CAA6BT,GAA7B,EAAkCC,GAAlC;AACAX,oBAAgBiB,OAAhB,CAAwBN,GAAxB,EAA6BO,QAA7B;AACD,GAJD,MAIO;AACLlB,oBAAgBoB,KAAhB,CAAsBT,GAAtB,EAA2BI,eAAeM,OAA1C;AACD;AACF,CAdD;;AAgBA,eAAeb,aAAf","file":"app.js","sourcesContent":["import logsController from './logs';\nimport responseUtility from '../utilities/responseUtility';\nimport covid19ImpactEstimator from '../estimator';\nimport appUtilities from '../utilities/appUtilities';\n\nconst defaultRegion = {\n  name: 'Africa',\n  avgAge: 19.7,\n  avgDailyIncomeInUSD: 5,\n  avgDailyIncomePopulation: 0.71\n};\n\nconst appController = {};\n\nappController.makeEsimate = (req, res) => {\n  const data = req.body;\n  if (!req.body.region) {\n    data.region = defaultRegion;\n  }\n  const inputValidator = appUtilities.validateInput(data);\n\n  if (inputValidator.success !== false) {\n    const response = covid19ImpactEstimator(data);\n    logsController.logNewRequest(req, res);\n    responseUtility.success(res, response);\n  } else {\n    responseUtility.error(res, inputValidator.message);\n  }\n};\n\nexport default appController;\n"]}