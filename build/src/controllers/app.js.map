{"version":3,"sources":["../../../src/controllers/app.js"],"names":["defaultRegion","name","avgAge","avgDailyIncomeInUSD","avgDailyIncomePopulation","appController","makeEsimate","req","res","data","body","region","console","log","inputValidator","appUtilities","validateInput","success","response","logsController","logNewRequest","responseUtility","error","message"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,QADc;AAEpBC,EAAAA,MAAM,EAAE,IAFY;AAGpBC,EAAAA,mBAAmB,EAAE,CAHD;AAIpBC,EAAAA,wBAAwB,EAAE;AAJN,CAAtB;AAOA,MAAMC,aAAa,GAAG,EAAtB;;AAEAA,aAAa,CAACC,WAAd,GAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxC,QAAMC,IAAI,GAAGF,GAAG,CAACG,IAAjB;;AACA,MAAI,CAACH,GAAG,CAACG,IAAJ,CAASC,MAAd,EAAsB;AACpBF,IAAAA,IAAI,CAACE,MAAL,GAAcX,aAAd;AACD;;AACDY,EAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACG,IAAhB;;AACA,QAAMI,cAAc,GAAGC,sBAAaC,aAAb,CAA2BT,GAAG,CAACG,IAA/B,CAAvB;;AAEA,MAAII,cAAc,CAACG,OAAf,KAA2B,IAA/B,EAAqC;AACnC,UAAMC,QAAQ,GAAG,wBAAuBT,IAAvB,CAAjB;;AACAU,kBAAeC,aAAf,CAA6Bb,GAA7B,EAAkCC,GAAlC;;AACAa,6BAAgBJ,OAAhB,CAAwBT,GAAxB,EAA6BU,QAA7B;AACD,GAJD,MAIO;AACLG,6BAAgBC,KAAhB,CAAsBd,GAAtB,EAA2BM,cAAc,CAACS,OAA1C;AACD;AACF,CAfD;;eAiBelB,a","sourcesContent":["import logsController from './logs';\nimport responseUtility from '../utilities/responseUtility';\nimport covid19ImpactEstimator from '../estimator';\nimport appUtilities from '../utilities/appUtilities';\n\nconst defaultRegion = {\n  name: 'Africa',\n  avgAge: 19.7,\n  avgDailyIncomeInUSD: 5,\n  avgDailyIncomePopulation: 0.71\n};\n\nconst appController = {};\n\nappController.makeEsimate = (req, res) => {\n  const data = req.body;\n  if (!req.body.region) {\n    data.region = defaultRegion;\n  }\n  console.log(req.body);\n  const inputValidator = appUtilities.validateInput(req.body);\n\n  if (inputValidator.success === true) {\n    const response = covid19ImpactEstimator(data);\n    logsController.logNewRequest(req, res);\n    responseUtility.success(res, response);\n  } else {\n    responseUtility.error(res, inputValidator.message);\n  }\n};\n\nexport default appController;\n"],"file":"app.js"}