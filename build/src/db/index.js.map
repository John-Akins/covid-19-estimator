{"version":3,"sources":["../../../src/db/index.js"],"names":["Client","require","config","connection","String","process","env","DB_URL","client","connectionString","connect","db","query","queryString","Promise","resolve","reject","err","result","Error","msg","data","stack"],"mappings":"AAAA,SAASA,MAAT,QAAuB,IAAvB;;AAEAC,QAAQ,QAAR,EAAkBC,MAAlB;;AAEA,MAAMC,aAAa,EAAnB;;AAEAA,WAAWC,MAAX,GAAoBC,QAAQC,GAAR,CAAYC,MAAhC;;AAEA,MAAMC,SAAS,IAAIR,MAAJ,CAAW,EAAES,kBAAkBN,WAAWC,MAA/B,EAAX,CAAf;;AAEAI,OAAOE,OAAP;;AAEA,MAAMC,KAAK,EAAX;;AAEAA,GAAGC,KAAH,GAAYC,WAAD,IAAiB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3DR,SAAOI,KAAP,CAAaC,WAAb,EAA0B,CAACI,GAAD,EAAMC,MAAN,KAAiB;AACzC,QAAID,GAAJ,EAAS;AACPD,aAAO,IAAIG,KAAJ,CAAU,EAAEC,KAAK,uBAAP,EAAgCC,MAAMJ,IAAIK,KAA1C,EAAV,CAAP;AACD;AACDP,YAAQG,MAAR;AACD,GALD;AAMD,CAP2B,CAA5B;;AASA,eAAeP,EAAf","file":"index.js","sourcesContent":["import { Client } from 'pg';\n\nrequire('dotenv').config();\n\nconst connection = {};\n\nconnection.String = process.env.DB_URL;\n\nconst client = new Client({ connectionString: connection.String });\n\nclient.connect();\n\nconst db = {};\n\ndb.query = (queryString) => new Promise((resolve, reject) => {\n  client.query(queryString, (err, result) => {\n    if (err) {\n      reject(new Error({ msg: 'Error executing query', data: err.stack }));\n    }\n    resolve(result);\n  });\n});\n\nexport default db;\n"]}