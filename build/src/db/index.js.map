{"version":3,"sources":["../../../src/db/index.js"],"names":["require","config","env","process","NODE_ENV","undefined","trim","connection","String","DB_DEV_URL","DB_TEST_URL","client","Client","connectionString","connect","db","query","queryString","Promise","resolve","reject","err","result","Error","msg","data","stack"],"mappings":";;;;;;;AAAA;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,GAAG,GAAIC,OAAO,CAACD,GAAR,CAAYE,QAAZ,KAAyBC,SAA1B,GAAuC,aAAvC,GAAuDF,OAAO,CAACD,GAAR,CAAYE,QAAZ,CAAqBE,IAArB,EAAnE;AACA,MAAMC,UAAU,GAAG,EAAnB;AAEAA,UAAU,CAACC,MAAX,GAAqBN,GAAG,KAAK,aAAT,GAA0BC,OAAO,CAACD,GAAR,CAAYO,UAAtC,GAAmDN,OAAO,CAACD,GAAR,CAAYQ,WAAnF;AAEA,MAAMC,MAAM,GAAG,IAAIC,UAAJ,CAAW;AAAEC,EAAAA,gBAAgB,EAAEN,UAAU,CAACC;AAA/B,CAAX,CAAf;AAEAG,MAAM,CAACG,OAAP;AAEA,MAAMC,EAAE,GAAG,EAAX;;AAEAA,EAAE,CAACC,KAAH,GAAYC,WAAD,IAAiB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC3DT,EAAAA,MAAM,CAACK,KAAP,CAAaC,WAAb,EAA0B,CAACI,GAAD,EAAMC,MAAN,KAAiB;AACzC,QAAID,GAAJ,EAAS;AACPD,MAAAA,MAAM,CAAC,IAAIG,KAAJ,CAAU;AAAEC,QAAAA,GAAG,EAAE,uBAAP;AAAgCC,QAAAA,IAAI,EAAEJ,GAAG,CAACK;AAA1C,OAAV,CAAD,CAAN;AACD;;AACDP,IAAAA,OAAO,CAACG,MAAD,CAAP;AACD,GALD;AAMD,CAP2B,CAA5B;;eASeP,E","sourcesContent":["import { Client } from 'pg';\n\nrequire('dotenv').config();\n\nconst env = (process.env.NODE_ENV === undefined) ? 'development' : process.env.NODE_ENV.trim();\nconst connection = {};\n\nconnection.String = (env === 'development') ? process.env.DB_DEV_URL : process.env.DB_TEST_URL;\n\nconst client = new Client({ connectionString: connection.String });\n\nclient.connect();\n\nconst db = {};\n\ndb.query = (queryString) => new Promise((resolve, reject) => {\n  client.query(queryString, (err, result) => {\n    if (err) {\n      reject(new Error({ msg: 'Error executing query', data: err.stack }));\n    }\n    resolve(result);\n  });\n});\n\nexport default db;\n"],"file":"index.js"}