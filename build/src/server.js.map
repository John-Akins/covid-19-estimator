{"version":3,"sources":["../../src/server.js"],"names":["config","normalizePort","val","port","parseInt","isNaN","process","env","PORT","app","set","server","http","createServer","errorHandler","error","syscall","code","exit","on","listen"],"mappings":";;AAAA;;AACA;;AACA;;;;AAFyB;AAIzBA,gBAAOA,MAAP,G,CAEA;AACA;;;AACA,MAAMC,aAAa,GAAIC,GAAD,IAAS;AAC7B,QAAMC,IAAI,GAAGC,QAAQ,CAACF,GAAD,EAAM,EAAN,CAArB,CAD6B,CAG7B;;AACA,MAAIG,KAAK,CAACF,IAAD,CAAT,EAAiB;AACf,WAAOD,GAAP;AACD;;AACD,MAAIC,IAAI,IAAI,CAAZ,EAAe;AACb,WAAOA,IAAP;AACD;;AACD,SAAO,KAAP;AACD,CAXD;;AAaA,MAAMA,IAAI,GAAGF,aAAa,CAACK,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,MAArB,CAA1B;;AAEAC,aAAIC,GAAJ,CAAQ,MAAR,EAAgBP,IAAhB;;AAEA,MAAMQ,MAAM,GAAGC,cAAKC,YAAL,CAAkBJ,YAAlB,CAAf,C,CAEA;AACA;;;AACA,MAAMK,YAAY,GAAIC,KAAD,IAAW;AAC9B,MAAIA,KAAK,CAACC,OAAN,KAAkB,QAAtB,EAAgC;AAC9B,UAAMD,KAAN;AACD;;AAED,UAAQA,KAAK,CAACE,IAAd;AACE,SAAK,QAAL;AACEX,MAAAA,OAAO,CAACY,IAAR,CAAa,CAAb;AACA;;AACF,SAAK,YAAL;AACEZ,MAAAA,OAAO,CAACY,IAAR,CAAa,CAAb;AACA;;AACF;AACE,YAAMH,KAAN;AARJ;AAUD,CAfD;;AAiBAJ,MAAM,CAACQ,EAAP,CAAU,OAAV,EAAmBL,YAAnB,E,CAEA;;AACAH,MAAM,CAACS,MAAP,CAAcjB,IAAd","sourcesContent":["import http from 'http'; // import Node native http package\nimport config from 'dotenv';\nimport app from './app';\n\nconfig.config();\n\n// returns a valid port\n// whether port is passed as number or a string\nconst normalizePort = (val) => {\n  const port = parseInt(val, 10);\n\n  // eslint-disable-next-line no-restricted-globals\n  if (isNaN(port)) {\n    return val;\n  }\n  if (port >= 0) {\n    return port;\n  }\n  return false;\n};\n\nconst port = normalizePort(process.env.PORT || '8080');\n\napp.set('port', port);\n\nconst server = http.createServer(app);\n\n// checks for various errors and handles them appropriately,\n// also registers them to the server\nconst errorHandler = (error) => {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  switch (error.code) {\n    case 'EACCES':\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n};\n\nserver.on('error', errorHandler);\n\n// set server to listen with either production or local port\nserver.listen(port);\n"],"file":"server.js"}